<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request an Invitation | StoryAlive</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #0a0f0a;
            --accent: #4ade80;
            --accent-bright: #6ee7b7;
            --gold: #fbbf24;
            --text: #ffffff;
            --text-muted: #d1d5db;
            --glass: rgba(74, 222, 128, 0.15);
            --glass-border: rgba(74, 222, 128, 0.4);
        }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background: linear-gradient(180deg, #0a0f0a 0%, #050a05 100%);
            color: var(--text);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        .container {
            max-width: 800px;
            margin: 60px auto;
            background: var(--glass);
            backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid var(--glass-border);
            border-radius: 30px;
            overflow: hidden;
            position: relative;
            z-index: 1;
            box-shadow: 0 30px 90px rgba(0, 0, 0, 0.4),
                        0 0 100px rgba(74, 222, 128, 0.1);
        }

        .form-header {
            background: linear-gradient(135deg, var(--primary) 0%, #1a2e1a 100%);
            color: white;
            padding: 4rem 2rem;
            text-align: center;
            position: relative;
            border-bottom: 1px solid var(--glass-border);
            overflow: hidden;
        }

        .form-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
            animation: scanline 3s linear infinite;
        }

        @keyframes scanline {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .form-header h1 {
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            font-weight: 900;
            letter-spacing: -2px;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #ffffff, var(--accent), #ffffff);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 3s ease infinite;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .form-header p {
            font-size: 1.2rem;
            color: var(--text-muted);
            line-height: 1.6;
        }

        .progress-bar {
            display: flex;
            justify-content: space-between;
            padding: 3rem 2rem 2rem;
            margin-bottom: 0;
            background: rgba(0, 0, 0, 0.2);
            border-bottom: none;
        }

        .progress-step {
            flex: 1;
            text-align: center;
            position: relative;
        }

        .progress-step::before {
            content: attr(data-step);
            display: inline-block;
            width: 40px;
            height: 40px;
            line-height: 40px;
            background: rgba(74, 222, 128, 0.1);
            border: 2px solid rgba(74, 222, 128, 0.3);
            border-radius: 50%;
            font-weight: bold;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
        }



        .progress-step span {
            display: block;
            font-size: 0.875rem;
            color: var(--text-muted);
            font-weight: 500;
            letter-spacing: 0.5px;
        }

        .form-content {
            padding: 3rem 3rem 3rem;
            background: rgba(0, 0, 0, 0.2);
        }

        .form-section {
            margin-bottom: 4rem;
            padding: 2.5rem;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            border: 1px solid rgba(74, 222, 128, 0.1);
            position: relative;
        }

        .form-section:last-child {
            margin-bottom: 0;
        }

        .form-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(74, 222, 128, 0.3), transparent);
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--text);
            margin-bottom: 2.5rem;
            padding-bottom: 1.2rem;
            border-bottom: 1px solid rgba(74, 222, 128, 0.2);
            letter-spacing: -1px;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100px;
            height: 3px;
            background: var(--accent);
            border-radius: 2px;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--text);
            font-size: 0.95rem;
            letter-spacing: 0.3px;
        }

        label .required {
            color: var(--accent);
        }

        input[type="text"],
        input[type="email"],
        input[type="url"],
        select,
        textarea {
            width: 100%;
            padding: 1rem 1.25rem;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(74, 222, 128, 0.2);
            border-radius: 12px;
            font-size: 1rem;
            color: var(--text);
            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
            font-family: 'Inter', -apple-system, sans-serif;
        }

        input::placeholder,
        textarea::placeholder {
            color: rgba(255, 255, 255, 0.3);
        }

        /* Fix autofill background color */
        input:-webkit-autofill,
        input:-webkit-autofill:hover,
        input:-webkit-autofill:focus,
        input:-webkit-autofill:active,
        select:-webkit-autofill,
        select:-webkit-autofill:hover,
        select:-webkit-autofill:focus,
        select:-webkit-autofill:active {
            -webkit-background-clip: text;
            -webkit-text-fill-color: var(--text);
            transition: background-color 5000s ease-in-out 0s;
            box-shadow: inset 0 0 20px 20px rgba(0, 0, 0, 0.5);
        }

        input:-webkit-autofill::first-line {
            color: var(--text);
        }

        /* Custom dropdown styling */
        .select-wrapper {
            position: relative;
            width: 100%;
        }

        .select-wrapper::after {
            content: '';
            position: absolute;
            right: 1.25rem;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-top: 6px solid rgba(255, 255, 255, 0.5);
            pointer-events: none;
            transition: transform 0.3s ease;
        }

        .select-wrapper.open::after {
            transform: translateY(-50%) rotate(180deg);
        }

        select {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            padding-right: 3rem;
        }

        select option {
            background: var(--primary);
            color: var(--text);
        }

        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: var(--accent);
            background: rgba(0, 0, 0, 0.7);
            box-shadow: 0 0 0 3px rgba(74, 222, 128, 0.1),
                        0 10px 30px rgba(74, 222, 128, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 120px;
        }

        .microcopy {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.4);
            margin-top: 0.5rem;
            font-style: normal;
            line-height: 1.4;
        }

        .radio-group,
        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-top: 0.5rem;
        }

        .radio-item,
        .checkbox-item {
            display: flex;
            align-items: flex-start;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(74, 222, 128, 0.1);
            border-radius: 12px;
            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
            cursor: pointer;
        }

        @media (min-width: 1024px) {
            .radio-item:hover,
            .checkbox-item:hover {
                background: rgba(74, 222, 128, 0.05);
                border-color: rgba(74, 222, 128, 0.3);
                transform: translateX(5px);
            }
        }

        @media (max-width: 1023px) {
            .radio-item:hover,
            .checkbox-item:hover {
                background: rgba(74, 222, 128, 0.05);
                border-color: rgba(74, 222, 128, 0.3);
                /* No transform on tablet/mobile */
            }
        }

        .radio-item input[type="radio"],
        .checkbox-item input[type="checkbox"] {
            margin-right: 1rem;
            margin-top: 0.25rem;
            flex-shrink: 0;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .radio-item input[type="radio"]:focus,
        .checkbox-item input[type="checkbox"]:focus {
            outline: none !important;
            box-shadow: none !important;
        }

        .radio-item input[type="radio"]:focus-visible,
        .checkbox-item input[type="checkbox"]:focus-visible {
            outline: none !important;
            box-shadow: none !important;
        }

        .radio-item input[type="radio"],
        .checkbox-item input[type="checkbox"] {
            accent-color: var(--accent);
        }

        .radio-item > div,
        .checkbox-item > div {
            font-weight: 500;
            margin-bottom: 0;
            color: var(--text);
            flex: 1;
        }

        .radio-description {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.4);
            margin-top: 0.25rem;
        }

        .form-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--glass-border);
        }

        .btn {
            padding: 18px 45px;
            border: none;
            border-radius: 100px;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            font-family: 'Inter', -apple-system, sans-serif;
            letter-spacing: 0.5px;
            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .btn-primary {
            background: white;
            color: var(--primary);
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: var(--accent);
            transform: translate(-50%, -50%);
            transition: width 0.6s ease, height 0.6s ease;
            z-index: -1;
        }

        .btn-primary:hover:not(:disabled) {
            color: white;
            transform: scale(1.05);
            box-shadow: 0 20px 40px rgba(74, 222, 128, 0.3);
        }

        .btn-primary:hover:not(:disabled)::before {
            width: 500px;
            height: 500px;
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: transparent;
            color: var(--text-muted);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 255, 255, 0.3);
            color: var(--text);
            transform: scale(1.02);
        }

        #formMessage {
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 2rem;
            text-align: center;
            display: none;
            font-weight: 500;
            backdrop-filter: blur(10px);
        }

        #formMessage.success {
            background: rgba(74, 222, 128, 0.2);
            color: var(--accent-bright);
            border: 1px solid var(--accent);
            display: block;
            animation: slideInUp 0.5s ease;
        }

        #formMessage.error {
            background: rgba(239, 68, 68, 0.2);
            color: #fca5a5;
            border: 1px solid rgba(239, 68, 68, 0.5);
            display: block;
            animation: shake 0.5s ease;
        }

        #formMessage.loading {
            background: rgba(74, 222, 128, 0.1);
            color: var(--accent);
            border: 1px solid rgba(74, 222, 128, 0.3);
            display: block;
            animation: pulse 2s infinite;
        }

        @keyframes slideInUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* Responsive Design - Comprehensive */

        /* Large Desktop: 1440px and up */
        @media (min-width: 1440px) {
            .container {
                max-width: 900px;
            }
        }

        /* Desktop: 1024px to 1439px */
        @media (max-width: 1439px) {
            .container {
                max-width: 800px;
            }
        }

        /* Tablet: 768px to 1023px */
        @media (max-width: 1023px) {
            .container {
                margin: 40px auto;
            }

            .form-header {
                padding: 3rem 1.5rem;
            }

            .form-section {
                padding: 2rem;
                margin-bottom: 3rem;
            }

            .form-content {
                padding: 2rem 2rem;
            }
        }

        /* Mobile: 481px to 767px */
        @media (max-width: 767px) {
            body {
                padding: 0;
            }

            .container {
                margin: 0;
                border-radius: 0;
                max-width: 100%;
            }

            .form-header {
                padding: 2.5rem 1.5rem;
                border-radius: 0;
            }

            .form-header h1 {
                font-size: 2rem;
                letter-spacing: -1px;
            }

            .form-header p {
                font-size: 1rem;
            }

            .progress-bar {
                display: none; /* Hide entire progress bar on mobile */
            }

            .form-content {
                padding: 1.5rem 1.5rem;
            }

            .form-section {
                padding: 1.75rem;
                margin-bottom: 2.5rem;
                border-radius: 15px;
            }

            .section-title {
                font-size: 1.5rem;
                margin-bottom: 1.75rem;
            }

            .form-group {
                margin-bottom: 1.25rem;
            }

            input[type="text"],
            input[type="email"],
            input[type="url"],
            select,
            textarea {
                padding: 0.875rem 1rem;
                font-size: 16px; /* Prevents zoom on iOS */
            }

            .radio-item,
            .checkbox-item {
                padding: 0.875rem;
            }

            .btn {
                padding: 16px 35px;
                font-size: 16px;
                width: 100%;
                max-width: none;
            }

            .btn-secondary {
                margin-bottom: 1rem;
            }

            .form-actions {
                flex-direction: column-reverse;
                gap: 1rem;
            }
        }

        /* Small Mobile: 480px and below */
        @media (max-width: 480px) {
            .form-header {
                padding: 2rem 1rem;
            }

            .form-header h1 {
                font-size: 1.75rem;
            }

            .form-header p {
                font-size: 0.95rem;
            }


            .form-content {
                padding: 1rem 1rem;
            }

            .form-section {
                padding: 1.25rem;
                margin-bottom: 2rem;
            }

            .section-title {
                font-size: 1.3rem;
                margin-bottom: 1.5rem;
            }

            label {
                font-size: 0.9rem;
            }

            .microcopy,
            .radio-description {
                font-size: 11px;
            }

            input[type="text"],
            input[type="email"],
            input[type="url"],
            select,
            textarea {
                padding: 0.75rem 0.875rem;
            }

            .radio-item,
            .checkbox-item {
                padding: 0.75rem;
            }

            .radio-item input[type="radio"],
            .checkbox-item input[type="checkbox"] {
                width: 18px;
                height: 18px;
            }

            .btn {
                padding: 14px 28px;
                font-size: 15px;
            }

            #formMessage {
                padding: 1rem;
                font-size: 14px;
            }
        }

        /* Very Small Mobile: 374px and below */
        @media (max-width: 374px) {
            .form-header h1 {
                font-size: 1.5rem;
            }

            .form-section {
                padding: 1rem;
            }

            .section-title {
                font-size: 1.2rem;
            }

            .btn {
                padding: 12px 24px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="form-header">
            <h1>Request an Invitation</h1>
            <p>Tell us about yourself and your work as an author</p>
        </div>

        <div class="progress-bar">
            <div class="progress-step" data-step="1">
                <span>About You</span>
            </div>
            <div class="progress-step" data-step="2">
                <span>Your Work</span>
            </div>
            <div class="progress-step" data-step="3">
                <span>Partnership</span>
            </div>
        </div>

        <form id="invitationForm" class="form-content">
            <!-- Section 1: About You -->
            <div class="form-section">
                <h2 class="section-title">Section 1: About You</h2>

                <div class="form-group">
                    <label for="fullName">Full Name <span class="required">*</span></label>
                    <input type="text" id="fullName" name="fullName" required>
                </div>

                <div class="form-group">
                    <label for="penName">Pen Name (if different)</label>
                    <input type="text" id="penName" name="penName">
                </div>

                <div class="form-group">
                    <label for="email">Email Address <span class="required">*</span></label>
                    <input type="email" id="email" name="email" required>
                </div>

                <div class="form-group">
                    <label for="authorProfileLink">Primary Author Profile Link <span class="required">*</span></label>
                    <input type="text" id="authorProfileLink" name="authorProfileLink" required pattern="^(https?:\/\/)?.+\..+$" title="Please enter a valid URL (e.g., example.com or https://example.com)">
                    <p class="microcopy">Please provide the one single link that serves as the best central hub for you and your work. This helps us get a complete picture of you as an author.</p>
                </div>
            </div>

            <!-- Section 2: Your Author Profile & Audience -->
            <div class="form-section">
                <h2 class="section-title">Section 2: Your Author Profile & Audience</h2>

                <div class="form-group">
                    <label>How would you best describe your publishing experience? <span class="required">*</span></label>
                    <p class="microcopy">Select the one that best represents you</p>
                    <div class="radio-group">
                        <label class="radio-item" for="independent">
                            <input type="radio" id="independent" name="publishingExperience" value="independent" required>
                            <div>
                                Primarily Independent / Self-Published
                                <div class="radio-description">You publish your own ebooks, print books, or web novels.</div>
                            </div>
                        </label>
                        <label class="radio-item" for="traditional">
                            <input type="radio" id="traditional" name="publishingExperience" value="traditional" required>
                            <div>
                                Primarily Traditionally Published
                                <div class="radio-description">You work with a publishing house like Penguin Random House.</div>
                            </div>
                        </label>
                        <label class="radio-item" for="hybrid">
                            <input type="radio" id="hybrid" name="publishingExperience" value="hybrid" required>
                            <div>
                                Hybrid
                                <div class="radio-description">You have a mix of both self-published and traditionally published works.</div>
                            </div>
                        </label>
                        <label class="radio-item" for="aspiring">
                            <input type="radio" id="aspiring" name="publishingExperience" value="aspiring" required>
                            <div>
                                Aspiring / Pre-Published
                                <div class="radio-description">You have a completed manuscript but have not yet made it publicly available.</div>
                            </div>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label>What is your primary release style? <span class="required">*</span></label>
                    <p class="microcopy">Select the one that best describes your process</p>
                    <div class="radio-group">
                        <label class="radio-item" for="completed">
                            <input type="radio" id="completed" name="releaseStyle" value="completed" required>
                            <div>
                                Completed Works
                                <div class="radio-description">You write and release your stories as complete, standalone products.</div>
                            </div>
                        </label>
                        <label class="radio-item" for="serialized">
                            <input type="radio" id="serialized" name="releaseStyle" value="serialized" required>
                            <div>
                                Serialized Works
                                <div class="radio-description">You write and release your stories in an ongoing, chapter-by-chapter format.</div>
                            </div>
                        </label>
                        <label class="radio-item" for="both">
                            <input type="radio" id="both" name="releaseStyle" value="both" required>
                            <div>
                                Hybrid / Both
                                <div class="radio-description">You actively use both release styles for different projects.</div>
                            </div>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label>What formats is your work currently available in? <span class="required">*</span></label>
                    <p class="microcopy">Check all that apply</p>
                    <div class="checkbox-group">
                        <label class="checkbox-item" for="ebook">
                            <input type="checkbox" id="ebook" name="formats" value="ebook">
                            <div>Ebook</div>
                        </label>
                        <label class="checkbox-item" for="print">
                            <input type="checkbox" id="print" name="formats" value="print">
                            <div>Print</div>
                        </label>
                        <label class="checkbox-item" for="webNovel">
                            <input type="checkbox" id="webNovel" name="formats" value="webNovel">
                            <div>Web Novel</div>
                        </label>
                        <label class="checkbox-item" for="audiobook">
                            <input type="checkbox" id="audiobook" name="formats" value="audiobook">
                            <div>Audiobook</div>
                        </label>
                        <label class="checkbox-item" for="graphicNovel">
                            <input type="checkbox" id="graphicNovel" name="formats" value="graphicNovel">
                            <div>Graphic Novel / Webtoon</div>
                        </label>
                        <label class="checkbox-item" for="otherFormat">
                            <input type="checkbox" id="otherFormat" name="formats" value="other">
                            <div>Other</div>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="primaryGenre">What is your primary genre? <span class="required">*</span></label>
                    <p class="microcopy">Select the one that best fits your work</p>
                    <div class="select-wrapper">
                    <select id="primaryGenre" name="primaryGenre" required>
                        <option value="">Select a genre...</option>
                        <option value="fantasy">Fantasy</option>
                        <option value="scienceFiction">Science Fiction</option>
                        <option value="romance">Romance</option>
                        <option value="thriller">Thriller</option>
                        <option value="mystery">Mystery</option>
                        <option value="horror">Horror</option>
                        <option value="litrpg">LitRPG / GameLit</option>
                        <option value="paranormal">Paranormal / Urban Fantasy</option>
                        <option value="ya">Young Adult (YA)</option>
                        <option value="historical">Historical Fiction</option>
                        <option value="western">Western</option>
                        <option value="other">Other</option>
                    </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="subgenre">Subgenre / Niche (Optional)</label>
                    <input type="text" id="subgenre" name="subgenre" placeholder='e.g., "Cozy Fantasy", "Adventure", "Dystopian", "Billionaire Romance"'>
                </div>

                <div class="form-group">
                    <label for="communityHub">Primary Community Hub <span class="required">*</span></label>
                    <input type="text" id="communityHub" name="communityHub" required pattern="^(https?:\/\/)?.+\..+$" title="Please enter a valid URL (e.g., example.com or https://example.com)">
                    <p class="microcopy">Please link to the single online space where you have the most active and engaged community. This could be your Discord server, TikTok, Instagram, Facebook Group, or any other platform where you connect most with your readers.</p>
                </div>

                <div class="form-group">
                    <label for="mailingListSize">What is the approximate size of your author mailing list? <span class="required">*</span></label>
                    <div class="select-wrapper">
                    <select id="mailingListSize" name="mailingListSize" required>
                        <option value="">Select a range...</option>
                        <option value="none">I don't currently have a mailing list</option>
                        <option value="0-1000">0 - 1,000 subscribers</option>
                        <option value="1001-5000">1,001 - 5,000 subscribers</option>
                        <option value="5001-10000">5,001 - 10,000 subscribers</option>
                        <option value="10001-25000">10,001 - 25,000 subscribers</option>
                        <option value="25001+">25,001+ subscribers</option>
                    </select>
                    </div>
                </div>
            </div>

            <!-- Section 3: Partnership -->
            <div class="form-section">
                <h2 class="section-title">Section 3: Partnership</h2>

                <div class="form-group">
                    <label for="platformAppeal">What aspects of our platform are most appealing to you? <span class="required">*</span></label>
                    <textarea id="platformAppeal" name="platformAppeal" required></textarea>
                </div>

                <div class="form-group">
                    <label for="questions">Do you have any immediate questions or concerns about our platform? (Optional)</label>
                    <textarea id="questions" name="questions"></textarea>
                </div>

                <div class="form-group">
                    <label for="referralSource">How did you hear about us? (Optional)</label>
                    <div class="select-wrapper">
                    <select id="referralSource" name="referralSource">
                        <option value="">Select an option...</option>
                        <option value="searchEngine">Search Engine (e.g., Google, Bing)</option>
                        <option value="socialMedia">Social Media (e.g., TikTok, Instagram, Facebook, X)</option>
                        <option value="youtube">YouTube</option>
                        <option value="article">Online Article or Blog Post</option>
                        <option value="referral">Author or Friend Referral</option>
                        <option value="community">Writer's Community (e.g., Reddit, Discord, Forum)</option>
                        <option value="other">Other</option>
                    </select>
                    </div>
                </div>
            </div>

            <div class="form-actions">
                <button type="button" class="btn btn-secondary" onclick="window.location.href='/'">Cancel</button>
                <button type="submit" class="btn btn-primary" id="submitBtn">Submit Application</button>
            </div>

            <div id="formMessage"></div>
        </form>
    </div>

    <script>
        document.getElementById('invitationForm').addEventListener('submit', function(event) {
            event.preventDefault();

            const form = event.target;
            const formData = new FormData(form);
            const submitBtn = document.getElementById('submitBtn');
            const formMessage = document.getElementById('formMessage');

            // Handle checkboxes (formats) - collect all checked values
            const formats = [];
            const formatCheckboxes = document.querySelectorAll('input[name="formats"]:checked');
            formatCheckboxes.forEach(checkbox => {
                formats.push(checkbox.value);
            });

            // Create data object
            const data = {};
            for (let [key, value] of formData.entries()) {
                // Skip individual format entries as we'll add them as an array
                if (key !== 'formats') {
                    data[key] = value;
                }
            }
            // Add formats as array
            data.formats = formats;

            // Validate at least one format is selected
            if (formats.length === 0) {
                formMessage.textContent = 'Please select at least one format for your work.';
                formMessage.className = 'error';
                return;
            }

            // Replace with your actual Make.com webhook URL
            const webhookUrl = 'https://hook.make.com/your-unique-webhook-url';

            // Show loading state
            submitBtn.disabled = true;
            submitBtn.textContent = 'Submitting...';
            formMessage.textContent = 'Processing your application...';
            formMessage.className = 'loading';

            fetch(webhookUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
            })
            .then(response => {
                if (response.ok) {
                    formMessage.textContent = 'Thank you for your application! We\'ll review it and get back to you soon.';
                    formMessage.className = 'success';
                    form.reset();

                    // Scroll to top after success
                    window.scrollTo({ top: 0, behavior: 'smooth' });

                    // Optional: Redirect after a delay
                    setTimeout(() => {
                        window.location.href = '/';
                    }, 5000);
                } else {
                    throw new Error('Submission failed');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                formMessage.textContent = 'There was an error submitting your application. Please try again or contact support.';
                formMessage.className = 'error';
            })
            .finally(() => {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Submit Application';
            });
        });

        // Update progress bar based on section visibility with reveal animation
        const sections = document.querySelectorAll('.form-section');
        const progressSteps = document.querySelectorAll('.progress-step');
        const formGroups = document.querySelectorAll('.form-group');

        // Add reveal animation to form groups
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '0';
                    entry.target.style.transform = 'translateY(20px)';
                    setTimeout(() => {
                        entry.target.style.transition = 'all 0.6s cubic-bezier(0.23, 1, 0.32, 1)';
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }, 100);
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        formGroups.forEach(group => {
            observer.observe(group);
        });

        // Simple scroll-based progress indicator
        window.addEventListener('scroll', () => {
            const scrollPosition = window.scrollY + window.innerHeight / 2;

            sections.forEach((section, index) => {
                const sectionTop = section.offsetTop;
                const sectionBottom = sectionTop + section.offsetHeight;

                // Removed dynamic active class switching
            });
        });

        // Auto-format URLs to add https:// if missing
        function formatUrl(input) {
            let value = input.value.trim();
            if (value && !value.match(/^https?:\/\//)) {
                input.value = 'https://' + value;
            }
        }

        // Add blur event to URL inputs to auto-format
        document.getElementById('authorProfileLink').addEventListener('blur', function() {
            formatUrl(this);
        });

        document.getElementById('communityHub').addEventListener('blur', function() {
            formatUrl(this);
        });

        // Allow radio buttons to be unselected on second click
        document.querySelectorAll('input[type="radio"]').forEach(radio => {
            radio.addEventListener('click', function(e) {
                // Store reference to current radio and its name group
                const radioName = this.name;
                const isCurrentlyChecked = this.hasAttribute('data-was-checked');

                // Clear all data-was-checked in this group
                document.querySelectorAll(`input[type="radio"][name="${radioName}"]`).forEach(r => {
                    r.removeAttribute('data-was-checked');
                });

                // If it was checked, uncheck it
                if (isCurrentlyChecked) {
                    this.checked = false;
                } else {
                    // Mark this one as checked
                    this.setAttribute('data-was-checked', 'true');
                }
            });
        });

        // Handle dropdown arrow animation
        document.querySelectorAll('select').forEach(select => {
            const wrapper = select.closest('.select-wrapper');

            select.addEventListener('focus', function() {
                if (wrapper) wrapper.classList.add('open');
            });

            select.addEventListener('blur', function() {
                if (wrapper) wrapper.classList.remove('open');
            });

            select.addEventListener('change', function() {
                if (wrapper) wrapper.classList.remove('open');
            });
        });
    </script>
</body>
</html>